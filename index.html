<!doctype html>
<html lang="en" ng-app="bonuslySorter">
<head>
    <meta charset="utf-8">
    <title>Bonusly Sorter</title>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="index.css">
    <script src="bower_components/angular/angular.js"></script>
    <script src="index.js"></script>
</head>
<body ng-controller="IndexCtrl as index">
    <div class="form-center">
        <div class="alert alert-info" role="alert">
            Generate your API key <a target="_blank" href="https://bonus.ly/api">here</a>!
        </div>
        
        <form ng-submit="index.getData()">
          <div class="form-group">
            <label for="accessToken">Access Token</label>
            <input type="text" class="form-control" id="accessToken" placeholder="Access Token" ng-model="index.accessToken">
          </div>
          <div class="form-group">
            <label for="userId">UserID</label>
            <input type="text" class="form-control" id="userId" placeholder="UserID" ng-model="index.userId">
          </div>
          <div class="form-group">
            <label for="limit">Limit</label>
            <input type="text" class="form-control" id="limit" placeholder="Limit" ng-model="index.limit">
          </div>

          <button type="submit" class="btn btn-default">GET</button>
        </form>
    
        <hr/>
        <h3 class="" ng-show="index.displayName">Bonuses received by: {{ index.displayName }}</h3>
    
        <div class="table-responsive" ng-repeat="(key, bonuses) in index.responses">
            <h3>{{ key }}</h3>
            <table class="table">
                <thead>
                    <tr>
                        <th>
                            Giver
                        </th>
                        <th>
                            Comment
                        </th>
                    </tr>
                </thead>
                <tbody ng-if="bonuses.length === 0">
                    <tr>
                        <td colspan="2">Sorry, looks like you didn't recieve anything for this category.</td>
                    </tr>
                </tbody>
                <tbody ng-repeat="value in bonuses">
                    <tr>
                        <td>{{ value.giver.display_name }}</td>
                        <td>{{ value.reason }}</td>
                    </tr>
                </tbody>
            </table>  
        </div>
    </div>

</body>
</html>
